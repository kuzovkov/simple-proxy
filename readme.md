### Compile

```bash
gcc -Wall proxy_server.c -o proxy_server
gcc -Wall proxy_client.c -o proxy_client
```

### Usage

Copy `proxy_server` to remote server.
Run server:
```bash
./proxy_server
Proxy Server listening on port 7000 (PID: 2945643)
```

Run client (on local machine):
```bash
./proxy_client
Local Proxy listening on port 9000 for browser connections.
Forwarding to Remote XOR-Proxy at 77.221.145.94:7000
```
–¢–µ–ø–µ—Ä—å –õ–æ–∫–∞–ª—å–Ω—ã–π –ü—Ä–æ–∫—Å–∏-–°–µ—Ä–≤–µ—Ä (proxy_client.c) –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∞–¥—Ä–µ—Å —Ü–µ–ª–∏ –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞
 –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å –≤–∞—à–µ–º—É —É–¥–∞–ª–µ–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É.
–ë—Ä–∞—É–∑–µ—Ä, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTP/HTTPS-–ø—Ä–æ–∫—Å–∏: 127.0.0.1:9000.

Youtube —Ä–∞–±–æ—Ç–∞–µ—Ç.

#### –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è –£–¥–∞–ª–µ–Ω–Ω–æ–≥–æ XOR-–ü—Ä–æ–∫—Å–∏-–°–µ—Ä–≤–µ—Ä–∞

–≠—Ç–æ—Ç —é–Ω–∏—Ç –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π proxy_server.c.

üìÑ –§–∞–π–ª: /etc/systemd/system/xor-proxy.service

```bash
[Unit]
Description=Remote XOR Proxy Server (Data Obfuscation)
After=network.target

[Service]
# –¢–∏–ø —Å–µ—Ä–≤–∏—Å–∞: forking, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç fork()
# –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.
Type=forking

# –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –≤–∞—à–µ–º—É —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É
ExecStart=/usr/local/bin/proxy_server

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –æ—Ç –∏–º–µ–Ω–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–∏—Å
# (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –Ω–µ–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, 
# –Ω–æ root —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –Ω–∏–∑–∫–∏—Ö –ø–æ—Ä—Ç–æ–≤, —Ö–æ—Ç—è 8888 –Ω–µ –Ω–∏–∑–∫–∏–π)
User=root 
Group=root

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤ —Å–ª—É—á–∞–µ —Å–±–æ—è
Restart=always
RestartSec=5s

# –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ –∏ –æ—à–∏–±–∫–∏ –±—É–¥—É—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –∂—É—Ä–Ω–∞–ª systemd (journalctl)
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
```

#### –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è –õ–æ–∫–∞–ª—å–Ω–æ–≥–æ –ü—Ä–æ–∫—Å–∏-–°–µ—Ä–≤–µ—Ä–∞ (–ö–ª–∏–µ–Ω—Ç XOR)

–≠—Ç–æ—Ç —é–Ω–∏—Ç –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π proxy_client.c.

üìÑ –§–∞–π–ª: /etc/systemd/system/http-proxy-client.service

–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ: –ï—Å–ª–∏ –≤–∞—à —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, –∑–∞–º–µ–Ω–∏—Ç–µ REMOTE_PROXY_IP –∏ REMOTE_PROXY_PORT –≤ –∫–æ–¥–µ proxy_client.c –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π.

```bash
[Unit]
Description=Local HTTP CONNECT to Remote XOR Proxy
After=network.target

[Service]
# –≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç fork()
Type=forking

# –ó–∞–º–µ–Ω–∏—Ç–µ –ø—É—Ç—å, –µ—Å–ª–∏ –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è
ExecStart=/usr/local/bin/local_proxy

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –æ—Ç –∏–º–µ–Ω–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–∏—Å (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω–µ–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
User=root 
Group=root

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤ —Å–ª—É—á–∞–µ —Å–±–æ—è
Restart=always
RestartSec=5s

StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
```
üöÄ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–Ω–∞—á–∞–ª–∞ –¥–ª—è remote-xor-proxy):

–®–∞–≥ 1: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ systemd

–°–æ–æ–±—â–∏—Ç–µ systemd –æ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
Bash
```bash
sudo systemctl daemon-reload
```
–®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

–í–∫–ª—é—á–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã, —á—Ç–æ–±—ã –æ–Ω–∏ –∑–∞–ø—É—Å–∫–∞–ª–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã.
Bash
```bash
sudo systemctl enable remote-xor-proxy.service
sudo systemctl enable local-http-proxy.service
```
–®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã –≤—Ä—É—á–Ω—É—é. –í–∞–∂–Ω–æ: –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, –∑–∞—Ç–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π.
Bash

#### 1. –ó–∞–ø—É—Å–∫ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
```bash
sudo systemctl start xor-proxy.service
```
#### 2. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
```bash
sudo systemctl start http-proxy.service
```
–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∏ –ª–æ–≥–æ–≤

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç.
Bash
```bash
sudo systemctl status xor-proxy.service
sudo systemctl status http-proxy.service
```
–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –ª–æ–≥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –≤–∞—à–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã (–≤–∫–ª—é—á–∞—è —Å–æ–æ–±—â–µ–Ω–∏—è printf), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ journalctl:
Bash

#### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç
```bash
sudo journalctl -u remote-xor-proxy -f -n 100 
```
#### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏
```bash
sudo journalctl -u local-http-proxy -f -n 100
```
